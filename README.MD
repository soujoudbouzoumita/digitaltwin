
# ğŸŒ¿ Smart GreenHouse

Bienvenue dans le projet **Smart Plant Digital Twin** : un systÃ¨me de surveillance intelligente des plantes Ã  lâ€™aide dâ€™un jumeau numÃ©rique. Ce projet open source permet de visualiser, surveiller et configurer en temps rÃ©el lâ€™environnement de vos plantes grÃ¢ce Ã  un tableau de bord interactif, une base de donnÃ©es MongoDB et un broker de contexte NGSI (Orion Context Broker).

---

## ğŸš€ FonctionnalitÃ©s clÃ©s

- ğŸ›°ï¸ Visualisation 3D de lâ€™Ã©tat des plantes (tempÃ©rature, humiditÃ©, luminositÃ©, etc.)
- ğŸ“Š Monitoring temps rÃ©el via Node-RED Dashboard
- ğŸ”” Alertes automatiques par email ou Telegram
- ğŸŒ± CrÃ©ation et gestion de nouvelles plantes et capteurs
- ğŸ§  Jumeau numÃ©rique configurable via des modÃ¨les JSON
- ğŸ“ Architecture conteneurisÃ©e avec Docker Compose

---

## ğŸ“¦ Structure du projet

```
smart-plant-twin/
â”œâ”€â”€ docker-compose.yml          # Deployment configuration for all services
â”œâ”€â”€ .env                        # Environment variables (API keys, credentials)
â”œâ”€â”€ README.md                   # Project documentation and setup instructions
â”‚
â”œâ”€â”€ services/                   # Core services configuration
â”‚   â”œâ”€â”€ orion/                  # FIWARE Orion Context Broker
â”‚   â”‚   â””â”€â”€ config.json         # Orion configuration and entity models
â”‚   â”‚
â”‚   â”œâ”€â”€ mongodb/                # Persistence layer
â”‚   â”‚   â””â”€â”€ init-scripts/       # MongoDB initialization scripts
â”‚   â”‚       â””â”€â”€ create-indexes.js
â”‚   â”‚
â”‚   â””â”€â”€ node-red/              # Node-RED service (flow orchestration)
â”‚       â”œâ”€â”€ flows/              # Main flows for the application
â”‚       â”‚   â”œâ”€â”€ sensor-flows.json     # Sensor data acquisition and processing
â”‚       â”‚   â”œâ”€â”€ context-flows.json    # Context management with Orion
â”‚       â”‚   â””â”€â”€ notification-flows.json # Alert and notification handling
â”‚       â”‚
â”‚       â”œâ”€â”€ settings.js         # Node-RED configuration
â”‚       â””â”€â”€ dashboard/          # Dashboard configuration
â”‚           â””â”€â”€ ui-config.json  # UI layout and widget settings
â”‚
â”œâ”€â”€ models/                     # Digital twin data models
â”‚   â”œâ”€â”€ plant-model.json        # Plant entity model definition
â”‚   â”œâ”€â”€ sensor-models/          # Sensor models and configurations
â”‚   â”‚   â”œâ”€â”€ temperature.json
â”‚   â”‚   â”œâ”€â”€ humidity.json
â”‚   â”‚   â””â”€â”€ light.json
â”‚   â””â”€â”€ thresholds.json         # Threshold configurations for alerts
â”‚
â”œâ”€â”€ data/                       # Data storage
â”‚   â”œâ”€â”€ historical/             # Historical data storage
â”‚   â””â”€â”€ backups/                # Backup configurations
â”‚
â””â”€â”€ docs/                       # Project documentation
    â”œâ”€â”€ setup-guide.md          # Detailed setup instructions
    â”œâ”€â”€ architecture.md         # Architecture documentation
    â””â”€â”€ api-reference.md        # API documentation

---

## âš™ï¸ PrÃ©requis

- Docker & Docker Compose (v1.27+)
- Git
- Ã‰diteur de texte (VSCode recommandÃ©)

---

## ğŸ› ï¸ Installation

```bash
git clone https://github.com/soujoudbouzoumita/smart-plant-twin.git
cd smart-plant-twin
cp .env.example .env
```

Configurez le fichier `.env` :

```env
MONGO_USER=root
MONGO_PASSWORD=smarplant123Ã©
ORION_PORT=1026
NODE_RED_PORT=1880
PROJECT_NAME=smart-plant-twin
TIMEZONE=Afrique/Tunisie
# Notifications (optionnel)
TELEGRAM_BOT_TOKEN=...
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=...
```

---

## â–¶ï¸ Lancer les services

```bash
docker-compose up -d
```

AccÃ©der aux interfaces :

- Node-RED Dashboard : [http://localhost:1880/ui](http://localhost:1880/ui)
- Node-RED Editor : [http://localhost:1880)
- Orion Context Broker : [http://localhost:1026/version](http://localhost:1026/version)

---

## ğŸ§¬ Ajouter une plante

Voici un exemple de requÃªte POST pour ajouter une nouvelle entitÃ© :

```bash
curl -X POST http://localhost:1026/v2/entities -H 'Content-Type: application/json' -d '{
  "id": "Plant:002",
  "type": "Plant",
  "name": { "type": "Text", "value": "Ficus Lyrata" },
  "species": { "type": "Text", "value": "Ficus lyrata" },
  "temperature": { "type": "Number", "value": 22.5 },
  "humidity": { "type": "Number", "value": 65.0 },
  "lightIntensity": { "type": "Number", "value": 1200 },
  "soilMoisture": { "type": "Number", "value": 72.0 }
}'
```

---

## ğŸ§¾ Documentation

Le guide dâ€™installation dÃ©taillÃ© est disponible dans [`setup-guide.md`](./setup-guide.md).  
Les modÃ¨les de plantes se trouvent dans [`models/`](./models/).  
Les flows Node-RED sont configurÃ©s dans [`services/node-red/flows/`](./services/node-red/flows/).

---

## ğŸ§ª DÃ©pannage

- Pour vÃ©rifier les services :
```bash
docker-compose ps
```

- Pour voir les logs :
```bash
docker-compose logs mongodb
docker-compose logs orion
docker-compose logs node-red
```

- Pour rÃ©initialiser :
```bash
docker-compose down -v
docker-compose up -d
```

---

## ğŸ¤ Contribuer

Tu veux contribuer ? Clone le repo, propose des modÃ¨les ou des flows et soumets une **pull request**. Toute aide est bienvenue !


## Â©ï¸ Licence

Ce projet est sous licence MIT.

---

## ğŸ’¡ Auteure

RÃ©alisÃ© avec passion par **Soujoud Bouzoumita** â€“ Ã©tudiante Ã  Sup'Com, passionnÃ©e par les jumeaux numÃ©riques et lâ€™IoT ğŸŒğŸŒ¿

---

